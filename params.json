{"name":"Petals DSB","body":"# Petals Distributed Service Bus\r\n\r\nPetals Distributed Service Bus is a OW2-Petals Entreprise Service Bus extension which targets ease of use, monitoring, management and Internet-Friendly communication protocols.\r\n\r\n## Build\r\n* To build the modules, just launch 'mvn install'\r\n* To also build the distributions and the installer, add -Pdistributions to your maven command 'mvn install -Pdistributions'\r\n\r\n## Migration notes\r\n\r\n### To Petals 3.2\r\n\r\n#### Changes in the DSB code\r\n\r\n- *LoggingUtil* has been changed from monolog to Java logger. The API has been broken...\r\n- *org.ow2.petals.jbi.messaging.exchange.MessageExchange* has been replaced by *org.ow2.petals.jbi.messaging.exchange.MessageExchangeImpl*... **Need an API**!!! Update of all references to *org.ow2.petals.jbi.messaging.exchange.MessageExchangeImpl*\r\n- Update *XMLUtil*, *XMLHelper*, *Transformers* with EBM commons utils\r\n- *MessageExchange* does not contains the location anymore. So hard to use it in *org.petalslink.dsb.transport.Adapter*\r\n- Transporter API *sendSync* does not return the message exchange anymore but *void*\r\n- NS error for */org.petalslink.dsb.dsb-kernel/src/main/java/org/petalslink/dsb/kernel/ws/api/MasterConnectionService.java*. NS updated with dsb NS but will broke master integration... Looks like now there is a real connector in the ESB kernel with *org.ow2.petals.ws.DragonConnectionServiceImpl*. cf [https://gist.github.com/1885587](https://gist.github.com/1885587) for error details.\r\n- The CDK does not support *onNotificationMessage* on the listener anymore. The DSB CDK must support it (dsb-wsn-jbise component)\r\n- BC SOAP: Add WSAAddressing endpoint, handle null extensions on outgoing listener.\r\n\r\n#### Strange stuff, bad design, etc...\r\n\r\n- Need to use interfaces in interfaces when available. It is not the case for MessageExchangeImpl!\r\n- Question : ou sont enregistrés les MBeans qui étés dans le PetalsServerIMpl? : MbeanHelper . Il y a eu un update du logger dedans et du router : Pas fait dans le DSB\r\n\r\n#### TODOs\r\n\r\n- TODO : implement *org.petalslink.dsb.transport.Adapter.createJBIMessageWrapper(MessageExchange)*\r\n- TODO : Do not use MEP of *MessageExchanheImpl*\r\n- TODO : Check launcher which is not use the same way.\r\n- Need to delete */org.petalslink.dsb.dsb-xmlutils/src/main/java/org/petalslink/dsb/xmlutils/XMLHelper.java* and use direclty utils\r\n\r\n#### New but not used\r\n- *org.ow2.petals.jbi.messaging.exchange.PersistedMessageExchangeWrapper* in TransporterNIO\r\n- *RouterMonitor* and *Persistance* service are not used for now in the DSB: has been set to optional in the router module. Note that this should be a router module and not a router dependency!\r\n\r\n#### Upgrades to do on the ESB side (will be nice)\r\n- API for MessageExchange!\r\n- PetalsServerImpl registers MBeans with Helper : Not accessible!\r\n\r\n#### Disappear\r\n*org.ow2.petals.jbi.messaging.endpoint.EndpointPropertiesService*\r\n\r\n#### Deprecated in the DSB\r\n\r\nAnd will be cleaned...\r\n\r\n- Petals Oldies: org.petalslink.dsb:dsb-petals-oldies\r\n- Old monitoring: org.petalslink.dsb:dsb-monitoring\r\n","tagline":"Distributed Service Bus","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}